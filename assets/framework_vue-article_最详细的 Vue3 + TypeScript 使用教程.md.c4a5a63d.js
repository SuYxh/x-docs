import{o as e,c as o,e as t}from"./app.c30441d1.js";const d='{"title":"ç¯å¢ƒæ­å»º","description":"","frontmatter":{},"headers":[{"level":2,"title":"ç¯å¢ƒæ­å»º","slug":"ç¯å¢ƒæ­å»º"},{"level":2,"title":"ref()","slug":"ref"},{"level":3,"title":"ç±»å‹å®šä¹‰","slug":"ç±»å‹å®šä¹‰"},{"level":3,"title":"ä¸º ref() æ ‡æ³¨ç±»å‹","slug":"ä¸º-ref-æ ‡æ³¨ç±»å‹"},{"level":3,"title":"ä¸‰ç§æ–¹å¼æ¨è","slug":"ä¸‰ç§æ–¹å¼æ¨è"},{"level":2,"title":"reactive()","slug":"reactive"},{"level":3,"title":"ç±»å‹å®šä¹‰","slug":"ç±»å‹å®šä¹‰-1"},{"level":3,"title":"ä¸º reactive() æ ‡æ³¨ç±»å‹","slug":"ä¸º-reactive-æ ‡æ³¨ç±»å‹"},{"level":3,"title":"ä¸¤ç§æ–¹å¼æ¨è","slug":"ä¸¤ç§æ–¹å¼æ¨è"},{"level":2,"title":"computed ()","slug":"computed"},{"level":3,"title":"ç±»å‹å®šä¹‰","slug":"ç±»å‹å®šä¹‰-2"},{"level":3,"title":"ä¸º computed() æ ‡æ³¨ç±»å‹","slug":"ä¸º-computed-æ ‡æ³¨ç±»å‹"},{"level":3,"title":"ä¸¤ç§æ–¹å¼æ¨è","slug":"ä¸¤ç§æ–¹å¼æ¨è-1"},{"level":2,"title":"defineProps()","slug":"defineprops"},{"level":3,"title":"ä¸º defineProps() æ ‡æ³¨ç±»å‹","slug":"ä¸º-defineprops-æ ‡æ³¨ç±»å‹"},{"level":2,"title":"defineEmits()","slug":"defineemits"},{"level":3,"title":"ä¸º defineEmits() æ ‡æ³¨ç±»å‹","slug":"ä¸º-defineemits-æ ‡æ³¨ç±»å‹"},{"level":2,"title":"defineExpose()","slug":"defineexpose"},{"level":3,"title":"ä¸º defineExpose() æ ‡æ³¨ç±»å‹","slug":"ä¸º-defineexpose-æ ‡æ³¨ç±»å‹"},{"level":2,"title":"provide()","slug":"provide"},{"level":3,"title":"ç±»å‹å®šä¹‰","slug":"ç±»å‹å®šä¹‰-3"},{"level":3,"title":"ä¸º provide() æ ‡æ³¨ç±»å‹","slug":"ä¸º-provide-æ ‡æ³¨ç±»å‹"},{"level":2,"title":"inject()","slug":"inject"},{"level":3,"title":"ç±»å‹å®šä¹‰","slug":"ç±»å‹å®šä¹‰-4"},{"level":3,"title":"ä¸º inject() æ ‡æ³¨ç±»å‹","slug":"ä¸º-inject-æ ‡æ³¨ç±»å‹"},{"level":2,"title":"æ¨¡æ¿ ref","slug":"æ¨¡æ¿-ref"},{"level":2,"title":"ç»„ä»¶ ref","slug":"ç»„ä»¶-ref"},{"level":2,"title":"äº‹ä»¶å¤„ç†å™¨","slug":"äº‹ä»¶å¤„ç†å™¨"},{"level":2,"title":"å†™åœ¨æœ€å","slug":"å†™åœ¨æœ€å"}],"relativePath":"framework/vue-article/æœ€è¯¦ç»†çš„ Vue3 + TypeScript ä½¿ç”¨æ•™ç¨‹.md","lastUpdated":1661330957047}',c={},n=[t('<p>ç‚¹å‡»ä¸‹æ–¹â€œå‰ç«¯å¼€å‘çˆ±å¥½è€…â€ï¼Œé€‰æ‹©â€œè®¾ä¸ºæ˜Ÿæ ‡â€</p><p>ç¬¬ä¸€æ—¶é—´å…³æ³¨æŠ€æœ¯å¹²è´§ï¼</p><p><img src="https://qn.huat.xyz/mac/20220725204331.png" alt=""></p><p><strong>å‰ç«¯å¼€å‘çˆ±å¥½è€…</strong></p><p>åˆ†äº« web å‰ç«¯ç›¸å…³æŠ€æœ¯æ–‡ç« ã€å·¥å…·èµ„æºã€ç²¾é€‰è¯¾ç¨‹ã€è§†é¢‘æ•™ç¨‹èµ„æºã€çƒ­ç‚¹èµ„è®¯</p><p>60ç¯‡åŸåˆ›å†…å®¹</p><p>å…¬ä¼—å·</p><blockquote><p>å“ˆå–½,å¤§å®¶å¥½ æˆ‘æ˜¯<code>xy</code>ğŸ‘¨ğŸ»â€ğŸ’»ã€‚æœ€è¿‘æŠ€æœ¯æ ˆåˆšåˆšç”±ä¹‹å‰çš„ <code>React</code> è½¬å‘ <code>Vue3</code>äº†ï¼Œç”±äºä¹‹å‰å¤šå¤šå°‘å°‘ä¹Ÿæ¥è§¦è¿‡ <code>Vue</code>ï¼Œæ‰€ä»¥è¿™æ¬¡åªç”¨äº†ä¸€ä¸ªä¸Šåˆçš„æ—¶é—´å°±ä¸Šæ‰‹ <code>Vue3</code> äº†ï¼Œå¦‚æœå¤§å®¶æœ‰å…³äº<code>vue</code>æˆ–è€…<code>react</code>ä¸Šçš„é—®é¢˜ï¼Œæ¬¢è¿æ¥æ»´æ»´æˆ‘ï¼Œä¸€èµ·äº¤æµå­¦ä¹  ğŸ’ª</p></blockquote><p>è‡³äºæŠ€æœ¯æ ˆä¸ºä»€ä¹ˆç”± <code>react</code> è½¬å‘ <code>vue3</code>ï¼Œä¹Ÿæ˜¯å› ä¸ºä»Šå¹´æ¢äº†æ–°å·¥ä½œï¼Œå…¬å¸æŠ€æœ¯æ ˆä»¥<code>vue3</code>ä¸ºä¸»ï¼Œåˆšå¥½å‰æ®µæ—¶é—´åˆæ¥æ‰‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œå°±ç›´æ¥é‡‡ç”¨ <code>Vue3</code> <code>script setup</code> <code>typescript</code> å¼€å‘ï¼Œäºæ˜¯ä»Šå¤©å°±æƒ³ç»™å¤§å®¶åˆ†äº«ä¸‹ <code>script setup</code> ç»“åˆ <code>typescript</code> ä½¿ç”¨çš„ä¸€äº›æŠ€å·§ï¼Œå¦‚æœè¿™äº›æŠ€å·§èƒ½å¤Ÿå¸®åŠ©åˆ°ä½ ï¼Œè®°å¾—ç»™æˆ‘ç‚¹ä¸ªèµå‘¦ ğŸ‘</p><h2 id="ç¯å¢ƒæ­å»º">ç¯å¢ƒæ­å»º</h2><p>ç¯å¢ƒæ­å»ºè¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å®˜æ–¹çš„æ–¹å¼åˆ›å»º</p><div class="language-auto"><pre><code>npmÂ initÂ vue@latest\n</code></pre></div><p>è¿™ä¸€æŒ‡ä»¤å°†ä¼šå®‰è£…å¹¶æ‰§è¡Œ <code>create-vue</code>ï¼Œå®ƒæ˜¯ <code>Vue</code> å®˜æ–¹çš„é¡¹ç›®è„šæ‰‹æ¶å·¥å…·ã€‚ä½ å°†ä¼šçœ‹åˆ°ä¸€äº›è¯¸å¦‚ <code>TypeScript</code> å’Œ<code>æµ‹è¯•</code>æ”¯æŒä¹‹ç±»çš„å¯é€‰åŠŸèƒ½æç¤ºï¼š</p><div class="language-auto"><pre><code>âœ”Â ProjectÂ name:Â â€¦Â &lt;your-project-name&gt;\nâœ”Â AddÂ TypeScript?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ JSXÂ Support?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ VueÂ RouterÂ forÂ SingleÂ PageÂ ApplicationÂ development?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ PiniaÂ forÂ stateÂ management?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ VitestÂ forÂ UnitÂ testing?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ CypressÂ forÂ bothÂ UnitÂ andÂ End-to-EndÂ testing?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ ESLintÂ forÂ codeÂ quality?Â â€¦Â NoÂ /Â Yes\nâœ”Â AddÂ PrettierÂ forÂ codeÂ formatting?Â â€¦Â NoÂ /Â Yes\n\nScaffoldingÂ projectÂ inÂ ./&lt;your-project-name&gt;...\nDone.\n</code></pre></div><p>å¦‚æœä¸ç¡®å®šæ˜¯å¦è¦å¼€å¯æŸä¸ªåŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥æŒ‰ä¸‹å›è½¦é”®é€‰æ‹© <code>No</code>ã€‚åœ¨é¡¹ç›®è¢«åˆ›å»ºåï¼Œé€šè¿‡ä»¥ä¸‹æ­¥éª¤å®‰è£…ä¾èµ–å¹¶å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š</p><div class="language-auto"><pre><code>cdÂ &lt;your-project-name&gt;\nnpmÂ install\nnpmÂ runÂ dev\n</code></pre></div><p>æƒ³çœ‹æ›´å¤šçš„<code>è¯¦ç»†é…ç½®</code>çš„åŒå­¦ï¼Œå¯ä»¥ç§»æ­¥åˆ°æˆ‘ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­ï¼š<a href="http://mp.weixin.qq.com/s?__biz=MzUzNTk3MjE2Ng==&amp;mid=2247490197&amp;idx=1&amp;sn=df6b58af594299ffda15483df3c082c0&amp;chksm=fafc0abccd8b83aa2fb4371aa21dc4f1f0719697b123991b562709cf1920bc79f5452512f289&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"><img src="https://qn.huat.xyz/mac/20220725204336.jpeg" alt="å›¾ç‰‡"></a></p><p><a href="https://mp.weixin.qq.com/s?__biz=MzUzNTk3MjE2Ng==&amp;mid=2247490197&amp;idx=1&amp;sn=df6b58af594299ffda15483df3c082c0&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer"></a></p><p>è¿™é‡Œå°±ä¸åšè¿‡å¤šçš„è®²è§£äº†ï¼Œè¿™ç¯‡æ–‡ç« çš„é‡ç‚¹è¿˜æ˜¯åœ¨ <code>script setup</code> <code>typescript</code> ç»“åˆä½¿ç”¨ä¸Š</p><h2 id="ref">ref()</h2><p><code>ref()</code>æ¥å—ä¸€ä¸ªå†…éƒ¨å€¼ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¼çš„ã€å¯æ›´æ”¹çš„ <code>ref</code> å¯¹è±¡ï¼Œæ­¤å¯¹è±¡åªæœ‰ä¸€ä¸ªæŒ‡å‘å…¶å†…éƒ¨å€¼çš„ <code>property .value</code>ã€‚</p><h3 id="ç±»å‹å®šä¹‰">ç±»å‹å®šä¹‰</h3><div class="language-auto"><pre><code>functionÂ ref&lt;T&gt;(value:Â T):Â Ref&lt;UnwrapRef&lt;T&gt;&gt;\ninterfaceÂ Ref&lt;T&gt;Â {\nÂ Â value:Â T\n}\n</code></pre></div><h3 id="ä¸º-ref-æ ‡æ³¨ç±»å‹">ä¸º ref() æ ‡æ³¨ç±»å‹</h3><p><code>ref()</code> æ ‡æ³¨ç±»å‹æœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ol><li>é€šè¿‡æ³›å‹å‚æ•°çš„å½¢å¼æ¥ç»™ <code>ref()</code>å¢åŠ ç±»å‹</li></ol><div class="language-auto"><pre><code>importÂ {Â refÂ }Â fromÂ &#39;vue&#39;\n\nconstÂ initCodeÂ =Â ref&lt;stringÂ |Â number&gt;(&#39;200&#39;)\n</code></pre></div><ol start="2"><li>å¦‚æœæ˜¯é‡åˆ°å¤æ‚ç‚¹çš„ç±»å‹ï¼Œå¯ä»¥è‡ªå®šä¹‰ <code>interface</code> ç„¶åæ³›å‹å‚æ•°çš„å½¢å¼ä¼ å…¥</li></ol><div class="language-auto"><pre><code>importÂ {Â refÂ }Â fromÂ &#39;vue&#39;\n\ninterfaceÂ UserÂ {\nÂ Â name:Â string\nÂ Â age:Â stringÂ |Â number\n}\n\nconstÂ userÂ =Â ref&lt;User&gt;({\nÂ Â name:&#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;,\nÂ Â age:Â 20\n})\n</code></pre></div><ol start="3"><li>é€šè¿‡ä½¿ç”¨ <code>Ref</code> è¿™ä¸ªç±»å‹ä¸º <code>ref</code> å†…çš„å€¼æŒ‡å®šä¸€ä¸ªæ›´å¤æ‚çš„ç±»å‹</li></ol><div class="language-auto"><pre><code>importÂ {Â refÂ }Â fromÂ &#39;vue&#39;\nimportÂ typeÂ {Â RefÂ }Â fromÂ &#39;vue&#39;\n\nconstÂ initCode:Â Ref&lt;stringÂ |Â number&gt;Â =Â ref(&#39;200&#39;)\n</code></pre></div><h3 id="ä¸‰ç§æ–¹å¼æ¨è">ä¸‰ç§æ–¹å¼æ¨è</h3><p>æ¯”è¾ƒæ¨èä½¿ç”¨<code>å‰ä¸¤ç§</code>æ–¹å¼ï¼Œå‰ä¸¤ç§æ–¹å¼å…¶å®éƒ½æ˜¯ä»¥<code>æ³›å‹</code>çš„å½¢å¼æ¥æ ‡æ³¨ç±»å‹çš„</p><p>ç¬¬ä¸‰ç§æ–¹å¼éœ€è¦é¢å¤–çš„å¼•å…¥ï¼š</p><div class="language-auto"><pre><code>importÂ typeÂ {Â RefÂ }Â fromÂ &#39;vue&#39;\n</code></pre></div><p>æ‰€ä»¥ä¸æ˜¯å¾ˆæ¨è(æœ¬ç€èƒ½å°‘å†™ä¸€è¡Œæ˜¯ä¸€è¡ŒåŸåˆ™)</p><h2 id="reactive">reactive()</h2><p><code>reactive()</code> è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“åº”å¼ä»£ç†ã€‚</p><h3 id="ç±»å‹å®šä¹‰-1">ç±»å‹å®šä¹‰</h3><div class="language-auto"><pre><code>functionÂ reactive&lt;TÂ extendsÂ object&gt;(target:Â T):Â UnwrapNestedRefs&lt;T&gt;\n</code></pre></div><h3 id="ä¸º-reactive-æ ‡æ³¨ç±»å‹">ä¸º reactive() æ ‡æ³¨ç±»å‹</h3><p><code>reactive()</code>æ ‡æ³¨ç±»å‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ç›´æ¥ç»™å£°æ˜çš„å˜é‡æ·»åŠ ç±»å‹</li></ol><div class="language-auto"><pre><code>importÂ {Â reactiveÂ }Â fromÂ &#39;vue&#39;\n\ninterfaceÂ UserÂ {\nÂ Â name:Â string\nÂ Â age:Â stringÂ |Â number\n}\n\nconstÂ user:UserÂ =Â reactive({\nÂ Â name:&quot;å‰ç«¯å¼€å‘çˆ±å¥½è€…&quot;,\nÂ Â age:&#39;20&#39;\n})\n</code></pre></div><ol start="2"><li>é€šè¿‡æ³›å‹å‚æ•°çš„å½¢å¼æ¥ç»™ <code>reactive()</code>å¢åŠ ç±»å‹</li></ol><div class="language-auto"><pre><code>importÂ {Â reactiveÂ }Â fromÂ &#39;vue&#39;\n\ninterfaceÂ UserÂ {\nÂ Â name:Â string\nÂ Â age:Â stringÂ |Â number\n}\n\nconstÂ userÂ =Â reactive&lt;User&gt;({\nÂ Â name:&quot;å‰ç«¯å¼€å‘çˆ±å¥½è€…&quot;,\nÂ Â age:&#39;20&#39;\n})\n</code></pre></div><h3 id="ä¸¤ç§æ–¹å¼æ¨è">ä¸¤ç§æ–¹å¼æ¨è</h3><p><code>ä¸æ¨è</code>ä½¿ç”¨ <code>reactive()</code> çš„æ³›å‹å‚æ•°,å› ä¸ºå¤„ç†äº†æ·±å±‚æ¬¡ ref è§£åŒ…çš„è¿”å›å€¼ä¸æ³›å‹å‚æ•°çš„ç±»å‹ä¸åŒã€‚<code>æ¨èç›´æ¥ç»™å£°æ˜çš„å˜é‡æ·»åŠ ç±»å‹</code>ã€‚</p><h2 id="computed">computed ()</h2><p>æ¥å—ä¸€ä¸ª <code>getter</code> å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåªè¯»çš„å“åº”å¼ <code>ref</code> å¯¹è±¡ï¼Œå³ <code>getter</code> å‡½æ•°çš„è¿”å›å€¼ã€‚å®ƒä¹Ÿå¯ä»¥æ¥å—ä¸€ä¸ªå¸¦æœ‰ <code>get</code> å’Œ <code>set</code> å‡½æ•°çš„å¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªå¯å†™çš„ <code>ref</code> å¯¹è±¡ã€‚</p><h3 id="ç±»å‹å®šä¹‰-2">ç±»å‹å®šä¹‰</h3><div class="language-auto"><pre><code>//Â åªè¯»\nfunctionÂ computed&lt;T&gt;(\nÂ Â getter:Â ()Â =&gt;Â T,\nÂ Â debuggerOptions?:Â DebuggerOptions\n):Â Readonly&lt;Ref&lt;Readonly&lt;T&gt;&gt;&gt;\n\n//Â å¯å†™çš„\nfunctionÂ computed&lt;T&gt;(\nÂ Â options:Â {\nÂ Â Â Â get:Â ()Â =&gt;Â T\nÂ Â Â Â set:Â (value:Â T)Â =&gt;Â void\nÂ Â },\nÂ Â debuggerOptions?:Â DebuggerOptions\n):Â Ref&lt;T&gt;\n</code></pre></div><h3 id="ä¸º-computed-æ ‡æ³¨ç±»å‹">ä¸º computed() æ ‡æ³¨ç±»å‹</h3><p><code>computed()</code>æ ‡æ³¨ç±»å‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ä»å…¶è®¡ç®—å‡½æ•°çš„è¿”å›å€¼ä¸Šæ¨å¯¼å‡ºç±»å‹</li></ol><div class="language-auto"><pre><code>importÂ {Â ref,Â computedÂ }Â fromÂ &#39;vue&#39;\n\nconstÂ countÂ =Â ref&lt;number&gt;(0)\n\n//Â æ¨å¯¼å¾—åˆ°çš„ç±»å‹ï¼šComputedRef&lt;string&gt;\nconstÂ userÂ =Â computed(()Â =&gt;Â count.valueÂ +Â &#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;)\n</code></pre></div><ol start="2"><li>é€šè¿‡æ³›å‹å‚æ•°æ˜¾å¼æŒ‡å®š <code>computed()</code> ç±»å‹</li></ol><div class="language-auto"><pre><code>constÂ userÂ =Â computed&lt;string&gt;(()Â =&gt;Â {\nÂ Â //Â è‹¥è¿”å›å€¼ä¸æ˜¯Â stringÂ ç±»å‹åˆ™ä¼šæŠ¥é”™\nÂ Â returnÂ &#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;\n})\n</code></pre></div><h3 id="ä¸¤ç§æ–¹å¼æ¨è-1">ä¸¤ç§æ–¹å¼æ¨è</h3><p>è‡ªåŠ¨æ¨å¯¼ç±»å‹è™½ç„¶ç®€å•å¿«æ·ï¼Œä½†æ˜¯è¿˜æ˜¯å¸Œæœ›<code>æ‰‹åŠ¨</code>çš„å»<code>æŒ‡å®š</code>å…¶ç±»å‹ï¼Œè¿™æ ·æ›´åŠ åˆ©äºä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œæ‰€ä»¥è¿™é‡Œæ¨èå¤§å®¶ä½¿ç”¨é€šè¿‡æ³›å‹å‚æ•°æ˜¾å¼æŒ‡å®š <code>computed()</code> ç±»å‹</p><h2 id="defineprops">defineProps()</h2><p>ä¸ºäº†åœ¨å£°æ˜ <code>props</code> é€‰é¡¹æ—¶è·å¾—å®Œæ•´çš„ç±»å‹æ¨æ–­æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>defineProps</code> APIï¼Œå®ƒå°†è‡ªåŠ¨åœ°åœ¨ <code>script setup</code> ä¸­ä½¿ç”¨</p><h3 id="ä¸º-defineprops-æ ‡æ³¨ç±»å‹">ä¸º defineProps() æ ‡æ³¨ç±»å‹</h3><ol><li>ä»å®ƒçš„å‚æ•°ä¸­æ¨å¯¼ç±»å‹:</li></ol><div class="language-auto"><pre><code>constÂ propsÂ =Â defineProps({\nÂ Â name:Â {Â type:Â String,Â required:Â trueÂ },\nÂ Â age:Â Number\n})\n</code></pre></div><ol start="2"><li>é€šè¿‡æ³›å‹å‚æ•°æ¥å®šä¹‰ <code>props</code> çš„ç±»å‹</li></ol><div class="language-auto"><pre><code>constÂ propsÂ =Â defineProps&lt;{\nÂ Â name:Â string\nÂ Â age?:Â number\n}&gt;()\n</code></pre></div><p>å½“ç„¶äº†,æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä»¥ä¸Šçš„æ³›å‹å‚æ•°å®šä¹‰æˆä¸€ä¸ªå•ç‹¬çš„ <code>interface</code></p><div class="language-auto"><pre><code>interfaceÂ PropsÂ {\nÂ Â name:Â string\nÂ Â age?:Â number\n}\n\nconstÂ propsÂ =Â defineProps&lt;Props&gt;()\n</code></pre></div><blockquote><p>ä»¥ä¸Šçš„ä¸¤ç§æ–¹å¼è™½ç„¶éƒ½å¯ä»¥å¾ˆæ–¹ä¾¿çš„<code>æ ‡æ³¨ç±»å‹</code>, ä½†æ˜¯å¤±å»äº†å¯¹ <code>props</code> å®šä¹‰é»˜è®¤å€¼çš„èƒ½åŠ›</p></blockquote><p>ç›®å‰å®˜æ–¹ä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ¡ˆ,ä½†æ˜¯ç›®å‰è¿™ä¸ªæ–¹æ¡ˆè¿˜å¤„äºå®éªŒæ€§,å¹¶ä¸”éœ€è¦<code>æ˜¾å¼åœ°é€‰æ‹©å¼€å¯</code>ã€‚</p><div class="language-auto"><pre><code>//Â vite.config.js\nexportÂ defaultÂ {\nÂ Â plugins:Â [\nÂ Â Â Â vue({\nÂ Â Â Â Â Â reactivityTransform:Â true\nÂ Â Â Â })\nÂ Â ]\n}\n</code></pre></div><p>é€šè¿‡å¯¹ <code>defineProps()</code> çš„å“åº”æ€§è§£æ„æ¥æ·»åŠ é»˜è®¤å€¼:</p><div class="language-auto"><pre><code>&lt;scriptÂ setupÂ lang=&quot;ts&quot;&gt;\ninterfaceÂ PropsÂ {\nÂ Â name:Â string\nÂ Â age?:Â number\n}\n\nconstÂ {Â nameÂ =Â &#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;,Â ageÂ =Â 100Â }Â =Â defineProps&lt;Props&gt;()\n&lt;/script&gt;\n</code></pre></div><h2 id="defineemits">defineEmits()</h2><p>ä¸ºäº†åœ¨å£°æ˜ <code>emits</code> é€‰é¡¹æ—¶è·å¾—å®Œæ•´çš„ç±»å‹æ¨æ–­æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>defineEmits</code> APIï¼Œå®ƒå°†è‡ªåŠ¨åœ°åœ¨ <code>script setup</code> ä¸­ä½¿ç”¨</p><h3 id="ä¸º-defineemits-æ ‡æ³¨ç±»å‹">ä¸º defineEmits() æ ‡æ³¨ç±»å‹</h3><p><code>defineEmits()</code> æ ‡æ³¨ç±»å‹ç›´æ¥æ¨è<code>æ³›å‹</code>å½¢å¼</p><div class="language-auto"><pre><code>importÂ typeÂ {Â GlobalThemeÂ }Â fromÂ &#39;naive-ui&#39;\n\nconstÂ emitÂ =Â defineEmits&lt;{\nÂ Â (e:Â &#39;setThemeColor&#39;,Â val:Â GlobalTheme):Â void\n}&gt;()\n</code></pre></div><p>è™½ç„¶å®˜æ–¹è¿˜æ¨èäº†<code>è¿è¡Œæ—¶</code>è‡ªåŠ¨æ¨å¯¼çš„ä¸€ç§å½¢å¼,ä½†æ˜¯æœ¬äººä¸æ˜¯å¾ˆæ¨è</p><h2 id="defineexpose">defineExpose()</h2><p><code>defineExpose()</code> ç¼–è¯‘å™¨å®æ¥æ˜¾å¼æŒ‡å®šåœ¨ <code>script setup</code> ç»„ä»¶ä¸­è¦æš´éœ²å‡ºå»çš„ <code>property</code>,ä½¿å¾—çˆ¶ç»„ä»¶é€šè¿‡<code>æ¨¡æ¿ref</code>çš„æ–¹å¼è·å–åˆ°å½“å‰ç»„ä»¶çš„å®ä¾‹</p><h3 id="ä¸º-defineexpose-æ ‡æ³¨ç±»å‹">ä¸º defineExpose() æ ‡æ³¨ç±»å‹</h3><p><code>defineExpose()</code> ç±»å‹æ¨å¯¼ç›´æ¥ä½¿ç”¨å‚æ•°ç±»å‹è‡ªåŠ¨æ¨å¯¼å³å¯</p><div class="language-auto"><pre><code>&lt;scriptÂ setup&gt;\nimportÂ {Â refÂ }Â fromÂ &#39;vue&#39;\n\nconstÂ nameÂ =Â ref&lt;string&gt;(&#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;)\n\ndefineExpose({\nÂ Â name\n})\n</code></pre></div><h2 id="provide">provide()</h2><p><code>provide()</code>ä¾›ç»™ä¸€ä¸ªå€¼ï¼Œå¯ä»¥è¢«åä»£ç»„ä»¶æ³¨å…¥</p><h3 id="ç±»å‹å®šä¹‰-3">ç±»å‹å®šä¹‰</h3><div class="language-auto"><pre><code>functionÂ provide&lt;T&gt;(key:Â InjectionKey&lt;T&gt;Â |Â string,Â value:Â T):Â void\n</code></pre></div><h3 id="ä¸º-provide-æ ‡æ³¨ç±»å‹">ä¸º provide() æ ‡æ³¨ç±»å‹</h3><p>ä¸º <code>provide()</code> æ ‡æ³¨ç±»å‹, Vue æä¾›äº†ä¸€ä¸ª <code>InjectionKey</code> æ¥å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª <code>Symbol</code> çš„æ³›å‹ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥åœ¨æä¾›è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´åŒæ­¥æ³¨å…¥å€¼çš„ç±»å‹</p><div class="language-auto"><pre><code>importÂ typeÂ {Â InjectionKeyÂ }Â fromÂ &#39;vue&#39;\n\n//Â å»ºè®®å£°æ˜Â keyÂ (name)Â æ”¾åˆ°å…¬å…±çš„æ–‡ä»¶ä¸­\n//Â è¿™æ ·å°±å¯ä»¥åœ¨Â injectÂ çš„æ—¶å€™ç›´æ¥å¯¼å…¥ä½¿ç”¨\nconstÂ nameÂ =Â Symbol()Â asÂ InjectionKey&lt;string&gt;\n\nprovide(name,Â &#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;)Â //Â è‹¥æä¾›çš„æ˜¯éå­—ç¬¦ä¸²å€¼ä¼šå¯¼è‡´é”™è¯¯\n</code></pre></div><p>ä»¥ä¸Šæ–¹å¼æ˜¯é€šè¿‡å®šä¹‰ key çš„ç±»å‹æ¥æ ‡æ³¨ç±»å‹çš„,è¿˜æœ‰ä¸€ç§æ–¹å¼ç›´æ¥ <code>key</code> é‡‡ç”¨<code>å­—ç¬¦ä¸²</code>çš„å½¢å¼æ·»åŠ </p><div class="language-auto"><pre><code>provide(&#39;name&#39;,Â &#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;)\n</code></pre></div><h2 id="inject">inject()</h2><p><code>inject()</code>æ³¨å…¥ä¸€ä¸ªç”±ç¥–å…ˆç»„ä»¶æˆ–æ•´ä¸ªåº”ç”¨ä¾›ç»™çš„å€¼</p><h3 id="ç±»å‹å®šä¹‰-4">ç±»å‹å®šä¹‰</h3><div class="language-auto"><pre><code>//Â æ²¡æœ‰é»˜è®¤å€¼\nfunctionÂ inject&lt;T&gt;(key:Â InjectionKey&lt;T&gt;Â |Â string):Â TÂ |Â undefined\n\n//Â å¸¦æœ‰é»˜è®¤å€¼\nfunctionÂ inject&lt;T&gt;(key:Â InjectionKey&lt;T&gt;Â |Â string,Â defaultValue:Â T):Â T\n\n//Â ä½¿ç”¨å·¥å‚å‡½æ•°\nfunctionÂ inject&lt;T&gt;(\nÂ Â key:Â InjectionKey&lt;T&gt;Â |Â string,\nÂ Â defaultValue:Â ()Â =&gt;Â T,\nÂ Â treatDefaultAsFactory:Â true\n):Â T\n</code></pre></div><h3 id="ä¸º-inject-æ ‡æ³¨ç±»å‹">ä¸º inject() æ ‡æ³¨ç±»å‹</h3><p><code>provide()</code> çš„ <code>key</code> çš„ç±»å‹æ˜¯å£°æ˜å¼æä¾›çš„è¯(provide()ç±»å‹æ ‡æ³¨çš„ç¬¬ä¸€ç§å½¢å¼)</p><p><code>inject()</code> å¯ä»¥ç›´æ¥å¯¼å…¥å£°æ˜çš„ <code>key</code> æ¥è·å–çˆ¶çº§ç»„ä»¶æä¾›çš„å€¼</p><div class="language-auto"><pre><code>//Â ç”±å¤–éƒ¨å¯¼å…¥\nconstÂ nameÂ =Â Symbol()Â asÂ InjectionKey&lt;string&gt;\n\nconstÂ injectNameÂ =Â inject(name)\n</code></pre></div><p>å¦‚æœ <code>provide()</code> çš„ <code>key</code> ç›´æ¥ä½¿ç”¨çš„<code>å­—ç¬¦ä¸²</code>å½¢å¼æ·»åŠ çš„, éœ€è¦é€šè¿‡æ³›å‹å‚æ•°å£°æ˜</p><div class="language-auto"><pre><code>constÂ injectNameÂ =Â inject&lt;string&gt;(&#39;name&#39;)\n</code></pre></div><h2 id="æ¨¡æ¿-ref">æ¨¡æ¿ ref</h2><p>æ¨¡æ¿ <code>ref</code> éœ€è¦é€šè¿‡ä¸€ä¸ªæ˜¾å¼æŒ‡å®šçš„<code>æ³›å‹å‚æ•°</code>å’Œä¸€ä¸ª<code>åˆå§‹å€¼ null</code> æ¥åˆ›å»ºï¼š</p><div class="language-auto"><pre><code>&lt;imgÂ ref=&quot;el&quot;Â class=&quot;logo&quot;Â :src=&quot;Logo&quot;Â alt=&quot;&quot;Â /&gt;\n\nconstÂ elÂ =Â ref&lt;HTMLImageElementÂ |Â null&gt;(null)\n</code></pre></div><h2 id="ç»„ä»¶-ref">ç»„ä»¶ ref</h2><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½éœ€è¦ä¸ºä¸€ä¸ªå­ç»„ä»¶æ·»åŠ ä¸€ä¸ªæ¨¡æ¿ refï¼Œä»¥ä¾¿è°ƒç”¨å®ƒå…¬å¼€çš„æ–¹æ³•</p><div class="language-auto"><pre><code>&lt;!--Â Child.vueÂ --&gt;\n&lt;scriptÂ setupÂ lang=&quot;ts&quot;&gt;\nconstÂ handleLogÂ =Â ()Â =&gt;Â console.log(&#39;å‰ç«¯å¼€å‘çˆ±å¥½è€…&#39;)\n\ndefineExpose({\nÂ Â open\n})\n&lt;/script&gt;\n</code></pre></div><p>ä¸ºäº†è·å– <code>MyModal</code> çš„ç±»å‹ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦é€šè¿‡ <code>typeof</code> å¾—åˆ°å…¶ç±»å‹ï¼Œå†ä½¿ç”¨ <code>TypeScript</code> å†…ç½®çš„ <code>InstanceType</code> å·¥å…·ç±»å‹æ¥è·å–å…¶å®ä¾‹ç±»å‹ï¼š</p><div class="language-auto"><pre><code>&lt;!--Â parent.vueÂ --&gt;\n&lt;scriptÂ setupÂ lang=&quot;ts&quot;&gt;\nimportÂ ChildÂ fromÂ &#39;./Child.vue&#39;\n\n//Â ä¸ºå­ç»„ä»¶Â refÂ å£°æ˜ç±»å‹\nconstÂ childÂ =Â ref&lt;InstanceType&lt;typeofÂ Child&gt;Â |Â null&gt;(null)\n\n//Â è°ƒç”¨å­ç»„ä»¶ä¸­çš„æ–¹æ³•\nconstÂ getChildHandleLogÂ =Â ()Â =&gt;Â {\nÂ Â child.value?.handleLog()\n}\n&lt;/script&gt;\n</code></pre></div><h2 id="äº‹ä»¶å¤„ç†å™¨">äº‹ä»¶å¤„ç†å™¨</h2><p>åŸç”Ÿçš„ DOM äº‹ä»¶æ ‡æ³¨ç±»å‹</p><div class="language-auto"><pre><code>&lt;template&gt;\nÂ Â &lt;inputÂ type=&quot;text&quot;Â @change=&quot;handleChange&quot;Â /&gt;\n&lt;/template&gt;\n\n&lt;scriptÂ setupÂ lang=&quot;ts&quot;&gt;\nfunctionÂ handleChange(event:Â Event)Â {\nÂ Â console.log((event.targetÂ asÂ HTMLInputElement).value)\n}\n&lt;/script&gt;\n</code></pre></div><h2 id="å†™åœ¨æœ€å">å†™åœ¨æœ€å</h2><blockquote><p><code>å…¬ä¼—å·</code>ï¼š<code>å‰ç«¯å¼€å‘çˆ±å¥½è€…</code> ä¸“æ³¨åˆ†äº« <code>web</code> å‰ç«¯ç›¸å…³<code>æŠ€æœ¯æ–‡ç« </code>ã€<code>è§†é¢‘æ•™ç¨‹</code>èµ„æºã€çƒ­ç‚¹èµ„è®¯ç­‰ï¼Œå¦‚æœå–œæ¬¢æˆ‘çš„åˆ†äº«ï¼Œç»™ ğŸŸğŸŸ ç‚¹ä¸€ä¸ª<code>èµ</code> ğŸ‘ æˆ–è€… â•<code>å…³æ³¨</code> éƒ½æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒã€‚</p></blockquote><p>å…³æ³¨å…¬ä¼—å·åï¼Œåœ¨é¦–é¡µï¼š</p><ul><li><p>å›å¤<code>é¢è¯•é¢˜</code>ï¼Œè·å–æœ€æ–°å¤§å‚é¢è¯•èµ„æ–™ã€‚</p></li><li><p>å›å¤<code>ç®€å†</code>ï¼Œè·å– 3200 å¥— ç®€å†æ¨¡æ¿ã€‚</p></li><li><p>å›å¤<code>Reactå®æˆ˜</code>ï¼Œè·å– React æœ€æ–°å®æˆ˜æ•™ç¨‹ã€‚</p></li><li><p>å›å¤<code>Vueå®æˆ˜</code>ï¼Œè·å– Vue æœ€æ–°å®æˆ˜æ•™ç¨‹ã€‚</p></li><li><p>å›å¤<code>ts</code>ï¼Œè·å– TypeScript ç²¾è®²è¯¾ç¨‹ã€‚</p></li><li><p>å›å¤<code>vite</code>ï¼Œè·å– ç²¾è®²è¯¾ç¨‹ã€‚</p></li><li><p>å›å¤<code>uniapp</code>ï¼Œè·å– uniapp ç²¾è®²è¯¾ç¨‹ã€‚</p></li><li><p>å›å¤<code>jsä¹¦ç±</code>ï¼Œè·å– js è¿›é˜¶ å¿…çœ‹ä¹¦ç±ã€‚</p></li><li><p>å›å¤<code>Node</code>ï¼Œè·å– Nodejs+koa2 å®æˆ˜æ•™ç¨‹ã€‚</p></li><li><p>å›å¤<code>æ•°æ®ç»“æ„ç®—æ³•</code>ï¼Œè·å–æ•°æ®ç»“æ„ç®—æ³•æ•™ç¨‹ã€‚</p></li><li><p>å›å¤<code>æ¶æ„å¸ˆ</code>ï¼Œè·å– æ¶æ„å¸ˆå­¦ä¹ èµ„æºæ•™ç¨‹ã€‚</p></li><li><p>æ›´å¤šæ•™ç¨‹èµ„æºåº”æœ‰å°½æœ‰ï¼Œæ¬¢è¿<code>å…³æ³¨è·å–</code></p></li></ul>',119)];c.render=function(t,d,c,i,l,p){return e(),o("div",null,n)};export default c;export{d as __pageData};
