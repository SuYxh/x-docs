import{o as e,c as t,f as n,e as i}from"./app.c30441d1.js";const o='{"title":"前端项目部署记","description":"","frontmatter":{},"headers":[{"level":2,"title":"前端项目部署记","slug":"前端项目部署记"},{"level":2,"title":"购买服务器","slug":"购买服务器"},{"level":2,"title":"购买域名","slug":"购买域名"},{"level":2,"title":"登入服务器","slug":"登入服务器"},{"level":2,"title":"安装 nginx","slug":"安装-nginx"},{"level":2,"title":"安装 Git","slug":"安装-git"},{"level":2,"title":"拉去代码","slug":"拉去代码"},{"level":2,"title":"配置 nginx 来做 web 项目的容器","slug":"配置-nginx-来做-web-项目的容器"},{"level":2,"title":"配置 https","slug":"配置-https"}],"relativePath":"node/前端项目部署记.md","lastUpdated":1661330957047}',r={},l=i('<h2 id="前端项目部署记">前端项目部署记</h2><p><img src="https://qn.huat.xyz/mac/20220730114455.awebp" alt="前端项目部署记"></p><h2 id="购买服务器">购买服务器</h2><blockquote><p>服务器是计算机的一种，它比普通<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%2F140338" title="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338" target="_blank" rel="noopener noreferrer">计算机</a>运行更快、负载更高、价格更贵。服务器在网络中为其它客户机（如PC机、智能手机、ATM等终端甚至是火车系统等大型设备）提供计算或者应用服务。服务器具有高速的CPU运算能力、长时间的可靠运行、强大的I/O外部数据吞吐能力以及更好的扩展性。 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fcloud.tencent.com%2Fact%2Ffree%2Fenterprise" title="https://cloud.tencent.com/act/free/enterprise" target="_blank" rel="noopener noreferrer">选取免费的体验的服务器做为测试 腾讯云</a></p></blockquote><p>演示的服务器系统是 <code>ubuntu</code></p><h2 id="购买域名">购买域名</h2><blockquote><p><strong>域名</strong>（英语：<strong>Domain Name</strong>），又称<strong>网域</strong>，是由一串用点分隔的名字组成的<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FInternet" title="https://baike.baidu.com/item/Internet" target="_blank" rel="noopener noreferrer">Internet</a>上某一台<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E8%25AE%25A1%25E7%25AE%2597%25E6%259C%25BA%2F140338" title="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338" target="_blank" rel="noopener noreferrer">计算机</a>或计算机组的名称，用于在数据传输时对计算机的定位标识（有时也指地理位置）。</p></blockquote><p>由于<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FIP%25E5%259C%25B0%25E5%259D%2580%2F150859" title="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859" target="_blank" rel="noopener noreferrer">IP地址</a>具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FDNS" title="https://baike.baidu.com/item/DNS" target="_blank" rel="noopener noreferrer">DNS</a>，Domain Name System）来将域名和<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FIP%25E5%259C%25B0%25E5%259D%2580" title="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80" target="_blank" rel="noopener noreferrer">IP地址</a>相互<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E6%2598%25A0%25E5%25B0%2584%2F20402621" title="https://baike.baidu.com/item/%E6%98%A0%E5%B0%84/20402621" target="_blank" rel="noopener noreferrer">映射</a>，使人更方便地访问<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E4%25BA%2592%25E8%2581%2594%25E7%25BD%2591%2F199186" title="https://baike.baidu.com/item/%E4%BA%92%E8%81%94%E7%BD%91/199186" target="_blank" rel="noopener noreferrer">互联网</a>，而不用去记住能够被机器直接读取的<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FIP%25E5%259C%25B0%25E5%259D%2580" title="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80" target="_blank" rel="noopener noreferrer">IP地址</a>数串。 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fcloud.tencent.com%2Fact%2Fdomainsales%3Ffrom%3D15049" title="https://cloud.tencent.com/act/domainsales?from=15049" target="_blank" rel="noopener noreferrer">域名购买地址</a></p><p><strong>在我们学习部署中域名不是必须的，真实网站还是很有必要的，便于用户方便记住我们的网站</strong></p><h2 id="登入服务器">登入服务器</h2><blockquote><p>登入腾讯云后台找到我们购买的服务器、点击登录，就会弹出登登录界面,输入用户名密码即可。</p></blockquote><p><img src="https://qn.huat.xyz/mac/20220730114509.awebp" alt="image.png"></p><p><img src="https://qn.huat.xyz/mac/20220730114519.awebp" alt="image.png"></p><h2 id="安装-nginx">安装 nginx</h2><blockquote><p><em>Nginx</em> (engine x) 是一个高性能的<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2FHTTP" title="https://baike.baidu.com/item/HTTP" target="_blank" rel="noopener noreferrer">HTTP</a>和<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E5%258F%258D%25E5%2590%2591%25E4%25BB%25A3%25E7%2590%2586%2F7793488" title="https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/7793488" target="_blank" rel="noopener noreferrer">反向代理</a>web服务器，同时也提供了IMAP/POP3/SMTP服务。</p></blockquote><ul><li><code>sudo su root</code> 切换至 <code>root</code> 用户,不通过 <code>root</code> 用户安装，后续很多文件都没有权限需要 <code>root</code> 才能执行</li><li><code>apt-get install nginx</code> 下载 nginx</li><li><code>nginx -v</code> 查看版本</li><li><code>service nginx start</code>  启动nginx</li></ul><p>启动 nginx 成功之后，我们通过访问服务器的 IP 地址就可以看到 nginx 的默认配置页面了。</p><p><img src="https://qn.huat.xyz/mac/20220730114528.awebp" alt="image.png"></p><h2 id="安装-git">安装 Git</h2><blockquote><p>拉取我们需要部署的代码</p></blockquote><ul><li><code>apt-get install git</code></li></ul><h2 id="拉去代码">拉去代码</h2><ul><li><code>midir www &amp; cd www</code> 创建 <code>www</code> 目录来存放代码,并进入 <code>www</code> 目录下</li><li><code>git clone xxx</code> 克隆代码</li></ul><h2 id="配置-nginx-来做-web-项目的容器">配置 nginx 来做 web 项目的容器</h2><blockquote><p>nginx 的配置文件位置 <code>/etc/nginx</code>,分模块配置在目录 <code>conf.d</code>下新建网站的配置文件</p></blockquote><ul><li><code>cd /etc/nginx/conf.d</code> 进入配置文件</li><li><code>sudo mkdir test.conf</code> 创建网站的配置文件，内容如下</li></ul><div class="language-"><pre><code>server {\n    # 端口\n    listen 80;\n    #填写绑定证书的域名， 多个域名用空格隔开\n    server_name test.com www.test.com;\n    location / {\n        # 网站目录\n        root /www/test;\n        index index.html;\n    }\n }\n</code></pre></div><ul><li><code>service nginx reload</code> 修改<code>nginx</code>配置文件之后需要重新载入一下配置文件</li><li>通过域名<code>test.com</code>访问</li></ul><h2 id="配置-https">配置 https</h2><ul><li>需要申请证书、登录<a href="https://link.juejin.cn/?target=https%3A%2F%2Fconsole.cloud.tencent.com%2Fssl" title="https://console.cloud.tencent.com/ssl" target="_blank" rel="noopener noreferrer">腾讯云后台</a>、申请免费域名</li><li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fcloud.tencent.com%2Fdocument%2Fproduct%2F400%2F35244" title="https://cloud.tencent.com/document/product/400/35244" target="_blank" rel="noopener noreferrer">将申请的域名下载下来，上传到服务器</a></li></ul><p><img src="https://qn.huat.xyz/mac/20220730114633.awebp" alt="image.png"></p><ul><li>修改 <code>Ngixn</code> 配置文件</li></ul><div class="language-"><pre><code>server {\n    #SSL 访问端口号为 443\n    listen 443 ssl;\n    #填写绑定证书的域名\n    server_name m.test.com;\n    #证书文件名称\n    ssl_certificate /etc/nginx/ssl/m.test.com_bundle.crt;\n    #私钥文件名称\n    ssl_certificate_key /etc/nginx/ssl/m.test.com.key;\n    ssl_session_timeout 5m;\n    #请按照以下协议配置\n    ssl_protocols TLSv1.2 TLSv1.3;\n    #请按照以下套件配置，配置加密套件，写法遵循 openssl 标准。\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;\n    ssl_prefer_server_ciphers on;\n    location / {\n        root /www/test;\n        \n        # 移动端\n        if ($http_user_agent ~* (mobile|nokia|iphone|ipad|android|samsung|htc|blackberry)) {\n                root /www/m-test;\n        }\n        \n        index index.html;\n    }\n}\n</code></pre></div><ul><li><code>service nginx reload</code> 修改<code>nginx</code>配置文件之后需要重新载入一下配置文件</li></ul>',34);r.render=function(i,o,r,a,c,s){return e(),t("div",null,[n("\n * @Author: 时光@\n * @Date: 2022-07-30 11:55:25\n * @LastEditTime: 2022-07-30 11:55:26\n * @Description: \n"),l])};export default r;export{o as __pageData};
